<div class="p-4">
    <h2 class="text-2xl font-bold mb-4">Logging</h2>
    
    <!-- Search and Filter -->
    <div class="mb-6 space-y-4">
      <input 
        [(ngModel)]="searchTerm"
        placeholder="Search logs..."
        class="border rounded px-3 py-2 w-full"
        (input)="applyFilters()"
      />
      
      <div class="flex gap-4">
        <select 
          [(ngModel)]="filterStatus"
          class="border rounded px-3 py-2"
          (change)="applyFilters()"
        >
          <option value="all">All Status</option>
          <option value="completed">Completed</option>
          <option value="pending">Pending</option>
        </select>
        
        <select 
          [(ngModel)]="filterLocation"
          class="border rounded px-3 py-2"
          (change)="applyFilters()"
        >
          <option value="all">All Locations</option>
          <option *ngFor="let location of locations" [value]="location._id">
            {{location.name}}
          </option>
        </select>
      </div>
    </div>

    <!-- Loading Indicator -->
    <div *ngIf="loading" class="text-center py-4">
      <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto"></div>
    </div>

    <!-- Logs List -->
    <div *ngIf="!loading" class="space-y-4">
      <div *ngFor="let log of filteredLogs" class="border rounded p-4">
        <div class="flex items-center justify-between">
          <div>
            <h3 class="text-lg font-semibold">{{log.location.name}}</h3>
            <p class="text-sm text-gray-600">
              Created: {{log.createdAt | date:'medium'}}
            </p>
            <p class="text-sm text-gray-600">
              Work Scope: {{log.location.workScope.name}}
            </p>
          </div>
          <div>
            <button 
              *ngIf="!log.isCompleted"
              (click)="completeLog(log)"
              class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600"
            >
              Complete
            </button>
            <span *ngIf="log.isCompleted" class="text-green-600">
              Completed at {{log.completedAt | date:'medium'}}
            </span>
          </div>
        </div>
      </div>

      <!-- No Results Message -->
      <div *ngIf="filteredLogs.length === 0" class="text-center py-8 text-gray-500">
        No logs found matching your criteria
      </div>
    </div>
  </div>
